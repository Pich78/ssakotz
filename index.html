<!doctype html>
<head>
    <meta charset="utf-8">
    <title>Saint Seiya Awakening - Knight of the Zodiac Calculator</title> 
</head>
<body>
    <h1>Saint Seiya Awakening - Knights of the Zodiac Calculator</h1>
    <p id="demo"></p>
    <p id="saints"></p>
    <img src="" id="fish" />

    <script language="javascript">

        class Car {
            constructor(name, year) {
                this.name = name;
                this.year = year;
            }

            age(x) {
                return x - this.year;
            }
        }
        
        let date = new Date();
        let year = date.getFullYear();
        
        let myCar = new Car("Ford", 2014);
        document.getElementById("demo").innerHTML=
        "My car is " + myCar.age(year) + " years old.";

        listSaints();
        catchFish();


        async function listSaints() {
            //const response = await fetch('https://api.github.com/repos/:user/:repo/contents/');
            
            const saintListResponse = await fetch('https://api.github.com/repos/Pich78/ssakotz/tree/gh-pages/saints');

            const data = await saintListResponse.json();
            let htmlString = '<ul>';
            for (let file of data) {
                htmlString += `<li><a href="${file.path}">${file.name}</a></li>`;
            }
            htmlString += '</ul>';
            document.getElementsByTagName('saints')[0].innerHTML = htmlString;
        }   

        async function catchFish() {
            const response = await fetch('saints/fish.jpg');
            const blob = await response.blob();
            document.getElementById('fish').src = URL.createObjectURL(blob);
        }

        /*
        async function catchFishData() {
            const response = await fetch('fishData.JSON');
            const blob = await response.blob();
            document.getElementById('fish').src = URL.createObjectURL(blob);
        }
        */

        
       
    </script>    

</body>   
</html>






